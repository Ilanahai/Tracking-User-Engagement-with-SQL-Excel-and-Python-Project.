# -*- coding: utf-8 -*-
"""TUE - DATA PREDICTION WITH PYTHON .ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1TWp250Na5EFgPbWqLf0Jvt0WL6-25e0e
"""

import pandas as pd
import matplotlib.pyplot as plt
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LinearRegression

df = pd.read_csv("student_video_certificates.csv")

data = df.copy()

data.head()

X = data[['minutes_watched']]   # Input
y = data['certificates_issued'] # Output

X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=365
)

model = LinearRegression()
model.fit(X_train, y_train)

m = model.coef_[0]
b = model.intercept_

print("Slope (m):", m)
print("Intercept (b):", b)

r2 = model.score(X_test, y_test)
print("R-squared:", r2)

prediction = model.predict([[1200]])
print("Predicted certificates:", prediction[0])

plt.scatter(X_test, y_test, label="Actual")
plt.plot(X_test, model.predict(X_test), label="Predicted")
plt.xlabel("Minutes Watched")
plt.ylabel("Certificates Issued")
plt.legend()
plt.show()